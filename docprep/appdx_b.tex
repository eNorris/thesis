%%
%% This is file `chapmin.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% ths.dtx  (with options: `chapmin')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from chapmin.tex.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file ths.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)


 %% ... sample chapter ...

This appendix covers different code listings.

\section{GUI}

This code does ...

\section{Raytracer}

\begin{listing}
%\begin{minted}[frame=lines,linenos,escapeinside=||,mathescape=true]{cpp}
\begin{minted}[frame=lines,linenos]{cpp}
// Given isx, isy, isz  source index
// Given sx, sy, sz source location
// Given node locations
// Given Deltas

// For every voxel
for iz0 = 0 .. Z-1
  for iy0 = 0 .. Y-1
    for ix0 = 0 .. X-1
    
      ir0 = ix0*NY*NZ + iy0*NZ + iz0
    
      // Start from the center of the cell containing the source
      x = xNodes[ir0] + Dx[isx]/2
      y = yNodes[ir0] + Dy[isy]/2
      z = zNodes[ir0] + Dz[isz]/2
      
      // End condition
      if ix0 == isx and iy0 == isy and iz0 == isz
        d = sqrt((x-sx)^2 + (y-sy)^2 + (z-sz)^2)
        for ie = 0 .. G-1
          mu = xsTot[ie, ir0] * atomDen[ir]
          uflux[ie, ir0] = S_0 * exp(-mu * d) / (4 * PI * d^2)
        SKIP TO NEXT CELL
        
      ix = ix0
      iy = iy0
      iz = iz0
      
      dx = sx - x
      dy = sy - y
      dz = sz - z
      
      d = sqrt((x-sx)^2 + (y-sy)^2 + (z-sz)^2)
      
      xcos = dx/d
      ycos = dy/d
      zcos = dz/d
      
      ixBound = NEXT X BOUNDARY INDEX
      iyBound = NEXT Y BOUNDARY INDEX
      izBound = NEXT Z BOUNDARY INDEX
      
      mfp[0 .. G-1] = 0
      
      exhausted = FALSE
      while not exhausted
        ir = ix*NY*NZ + iy*NZ + iz      
      
        tx = ...
        
        tmin = min(tx, ty, tz)
        dir = DIRECTION HIT
        
        for ie = 0 .. G-1
          mpf[ie] += tmin * xsTot[ir, ie] * atomDen[ir]
          
        if dir == X DIRECTION
          x = xNodes[ixBound]
          y += tmin*ycos
          z += tmin*zcos
          if xcos >= 0
            ix++
            ixBound++
          else
            ix--
            ixBound--
            
        if ix == ix0 and iy == iy0 and iz == iz0
          d = sqrt()
          for ie = 0 .. G-1
            mpf[ie] += d * xsTot[ie, ir] * atomDen[ir]
          exhausted = TRUE
          
      for ie = 0 .. G-1
        uflux[ir0, ie] = S0 * exp() / (4 * PI * d^2)

\end{minted}
\caption{Blah blah blah.}\label{lst:sync1}
\end{listing}

\section{Solver}

This code does ...

\endinput
%%
%% End of file `chapmin.tex'.
